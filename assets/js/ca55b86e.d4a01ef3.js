"use strict";(self.webpackChunkapache_website_template=self.webpackChunkapache_website_template||[]).push([[9022],{9265:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var t=n(1527),r=n(395);const o={id:"getting-started",title:"Getting Started with Info Module",sidebar_position:1},i="Getting Started with Info Module",s={id:"libraries/java/info/getting-started",title:"Getting Started with Info Module",description:"This article is a quick guide that explains how to work with GraphAr Java Info module. The Info module is part of the pure Java implementation of GraphAr and provides capabilities for parsing graph metadata (schema) from YAML files.",source:"@site/docs/libraries/java/info/getting-started.md",sourceDirName:"libraries/java/info",slug:"/libraries/java/info/getting-started",permalink:"/docs/libraries/java/info/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/incubator-graphar/edit/main/docs/libraries/java/info/getting-started.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"getting-started",title:"Getting Started with Info Module",sidebar_position:1},sidebar:"documentation",previous:{title:"Java Library",permalink:"/docs/libraries/java/"},next:{title:"Getting Started with java FFI Module",permalink:"/docs/libraries/java/java-FFI/getting-started"}},d={},l=[{value:"metadata Files",id:"metadata-files",level:2},{value:"How to Use GraphAr Java Info Module",id:"how-to-use-graphar-java-info-module",level:2},{value:"Load graph Info",id:"load-graph-info",level:3},{value:"Load GraphInfo from local file system",id:"load-graphinfo-from-local-file-system",level:4},{value:"Custom YAML Loader Implementation",id:"custom-yaml-loader-implementation",level:4},{value:"Building",id:"building",level:3}];function h(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.h1,{id:"getting-started-with-info-module",children:"Getting Started with Info Module"}),"\n",(0,t.jsx)(a.p,{children:"This article is a quick guide that explains how to work with GraphAr Java Info module. The Info module is part of the pure Java implementation of GraphAr and provides capabilities for parsing graph metadata (schema) from YAML files."}),"\n",(0,t.jsx)(a.h2,{id:"metadata-files",children:"metadata Files"}),"\n",(0,t.jsxs)(a.p,{children:["GraphAr uses a group of information files to save the metadata for a graph. For more information, see ",(0,t.jsx)(a.a,{href:"https://graphar.apache.org/docs/specification/format#information-files",children:"GraphAr Format Specification"}),"."]}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.code,{children:"java-info"})," module provides the function of reading and parsing information files"]}),"\n",(0,t.jsx)(a.h2,{id:"how-to-use-graphar-java-info-module",children:"How to Use GraphAr Java Info Module"}),"\n",(0,t.jsx)(a.h3,{id:"load-graph-info",children:"Load graph Info"}),"\n",(0,t.jsx)(a.h4,{id:"load-graphinfo-from-local-file-system",children:"Load GraphInfo from local file system"}),"\n",(0,t.jsx)(a.p,{children:"Here's a simple example of how to use the java-info module:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-java",children:'import org.apache.graphar.info.GraphInfo;\nimport org.apache.graphar.info.loader.GraphInfoLoader;\nimport org.apache.graphar.info.loader.impl.LocalFileSystemStreamGraphInfoLoader;\nimport java.nio.file.Paths;\n\n// Load graph info from a YAML file\nGraphInfoLoader loader = new LocalFileSystemStreamGraphInfoLoader();\nGraphInfo graphInfo = loader.loadGraphInfo(Paths.get("path/to/graph.yml").toUri());\n\n// Access graph metadata\nString graphName = graphInfo.getName();\nList<VertexInfo> vertices = graphInfo.getVertexInfos();\nList<EdgeInfo> edges = graphInfo.getEdgeInfos();\n\n// Access vertex metadata\nVertexInfo personVertex = vertices.get(0);\nString vertexType = personVertex.getType();\nlong chunkSize = personVertex.getChunkSize();\n\n// Access edge metadata\nEdgeInfo knowsEdge = edges.get(0);\nString edgeType = knowsEdge.getEdgeType();\nboolean isDirected = knowsEdge.isDirected();\n'})}),"\n",(0,t.jsx)(a.h4,{id:"custom-yaml-loader-implementation",children:"Custom YAML Loader Implementation"}),"\n",(0,t.jsxs)(a.p,{children:["The java-info module requires users to implement their own YAML reading interface, because we typically face data lakes where data may be stored anywhere (local file or HDFS or S3 or OSS...). Users can implement one or more of ",(0,t.jsx)(a.code,{children:"StringGraphInfoLoader"}),", ",(0,t.jsx)(a.code,{children:"ReaderGraphInfoLoader"}),", or ",(0,t.jsx)(a.code,{children:"StreamGraphInfoLoader"})," (a local file system implementation is already provided)."]}),"\n",(0,t.jsxs)(a.p,{children:["Here's an example of how to implement a custom YAML loader by extending the ",(0,t.jsx)(a.code,{children:"StringGraphInfoLoader"})," abstract class:"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-java",children:'import org.apache.graphar.info.loader.StringGraphInfoLoader;\nimport java.io.IOException;\nimport java.net.URI;\n\npublic class MyStringGraphInfoLoader extends StringGraphInfoLoader {\n    @Override\n    public String readYaml(URI uri) throws IOException {\n        // Implement your custom logic to read YAML from any source\n        // This example shows reading from a database, but it could be HTTP, S3, HDFS, etc.\n        \n        // Example: Read from a database based on URI path\n        String path = uri.getPath();\n        // Query database for YAML content\n        return readYamlFromDatabase(path);\n    }\n    \n    private String readYamlFromDatabase(String path) throws IOException {\n        // Your database access logic here\n        // This is just a placeholder implementation\n        // In a real implementation, you would connect to your database\n        // and retrieve the YAML content based on the path\n        \n        // For example:\n        // Connection conn = DriverManager.getConnection(dbUrl, username, password);\n        // PreparedStatement stmt = conn.prepareStatement("SELECT yaml_content FROM graphs WHERE id = ?");\n        // stmt.setString(1, path);\n        // ResultSet rs = stmt.executeQuery();\n        // if (rs.next()) {\n        //     return rs.getString("yaml_content");\n        // }\n        \n        // Placeholder return\n        return "name: example\\ntype: graph\\nversion: v1";\n    }\n}\n\n// Usage of the custom loader\nMyStringGraphInfoLoader customLoader = new MyStringGraphInfoLoader();\nGraphInfo graphInfo = customLoader.loadGraphInfo(URI.create("db://mydatabase/graphs/graph1/graph.yml"));\n'})}),"\n",(0,t.jsx)(a.h3,{id:"building",children:"Building"}),"\n",(0,t.jsx)(a.p,{children:"To build the graphar-info module, you need:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"JDK 11 or higher"}),"\n",(0,t.jsx)(a.li,{children:"Maven 3.5 or higher"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Build the module with Maven:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"cd maven-projects/info\nmvn clean install\n"})})]})}function p(e={}){const{wrapper:a}={...(0,r.a)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},395:(e,a,n)=>{n.d(a,{Z:()=>s,a:()=>i});var t=n(959);const r={},o=t.createContext(r);function i(e){const a=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:a},e.children)}}}]);